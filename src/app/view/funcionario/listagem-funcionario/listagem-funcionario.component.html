<div class="crud-form">
  <h2>Listagem funcionário</h2>
  <app-breadcrumb></app-breadcrumb>
  <mat-card>
    <mat-card-content>
      <div class="row">
        <button
          mat-button
          (click)="pesquisar()">
          <mat-icon>search</mat-icon> Pesquisar
        </button>
      </div>
      <table
        mat-table
        [dataSource]="data | async">

        <!-- Position Column -->
        <ng-container matColumnDef="id">
          <th
            mat-header-cell
            *matHeaderCellDef>
            Código
          </th>
          <td
            mat-cell
            *matCellDef="let element">
            {{element.id}}
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="nome">
          <th
            mat-header-cell
            *matHeaderCellDef>
            Nome
          </th>
          <td
            mat-cell
            *matCellDef="let element">
            {{element?.pessoa?.nome}}
          </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="cpf">
          <th
            mat-header-cell
            *matHeaderCellDef>
            CPF
          </th>
          <td
            mat-cell
            *matCellDef="let element">
            {{element?.pessoa?.cpf | mask: '000.000.000-00'}}
          </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="matricula">
          <th
            mat-header-cell
            *matHeaderCellDef>
            Matrícula
          </th>
          <td
            mat-cell
            *matCellDef="let element">
            {{element?.matricula}}
          </td>
        </ng-container>

        <ng-container
          matColumnDef="acao"
          stickyEnd>
          <th
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            mat-cell
            *matCellDef="let element">
            <button
              mat-button
              (click)="editar(element)">
              <mat-icon>edit</mat-icon>
            </button>
            <button
              mat-button
              style="color: crimson;"
              (click)="excluir(element)">
              <mat-icon>cancel</mat-icon>
            </button>
          </td>
        </ng-container>

        <tbody>
          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns;"></tr>
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>
</div>
<button
  mat-fab
  class="btn-fab"
  (click)="adicionarNovo()"
  color="accent"
  aria-label="Example icon button with a bookmark icon">
  <mat-icon>add</mat-icon>
</button>
